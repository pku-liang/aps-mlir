{
  "source_file": "/home/cloud/aps-mlir/examples/diff_match/horner3/test_horner3.c",
  "pattern_file": "/home/cloud/aps-mlir/examples/diff_match/horner3/horner3.mlir",
  "total_phases": 5,
  "snapshots": [
    {
      "phase_name": "0_egraph_init",
      "phase_index": 0,
      "egraph_stats": {
        "horner3": {
          "total_nodes": 58,
          "total_eclasses": 19,
          "nodes_by_type": {
            "unimplemented": 43,
            "arg": 1,
            "lit": 4,
            "impl": 10
          },
          "root_eclasses": 1
        }
      },
      "cumulative_stats": {
        "internal_rewrites": 0,
        "external_rewrites": 0,
        "custom_rewrites": 0,
        "internal_details": [
          {
            "rule": "(rewrite (Add _a _b 'i32') (Add _b _a 'i32') :ruleset megg.rewrites.internal_rewrites.basic_math_laws_min)",
            "num_matches": 6
          },
          {
            "rule": "(rewrite (Mul _a _b 'i32') (Mul _b _a 'i32') :ruleset megg.rewrites.internal_rewrites.basic_math_laws_min)",
            "num_matches": 6
          },
          {
            "rule": "(rule ((= _e (Mul _x _y _t)))\n      ((set (megg_egraph_term_eclass_ty _e) _t))\n        :ruleset megg.rewrites.internal_rewrites.type_annotation )",
            "num_matches": 3
          },
          {
            "rule": "(rule ((= _e (Add _x _y _t)))\n      ((set (megg_egraph_term_eclass_ty _e) _t))\n        :ruleset megg.rewrites.internal_rewrites.type_annotation )",
            "num_matches": 3
          }
        ],
        "external_details": []
      },
      "details": {
        "description": "E-Graph initialized from MLIR"
      },
      "timestamp": 1767864796.8189409
    },
    {
      "phase_name": "1_internal_rewrites",
      "phase_index": 1,
      "egraph_stats": {
        "horner3": {
          "total_nodes": 64,
          "total_eclasses": 19,
          "nodes_by_type": {
            "unimplemented": 43,
            "arg": 1,
            "lit": 4,
            "impl": 16
          },
          "root_eclasses": 1
        }
      },
      "cumulative_stats": {
        "internal_rewrites": 82,
        "external_rewrites": 0,
        "custom_rewrites": 0,
        "internal_details": [
          {
            "rule": "(rewrite (Add _a _b 'i32') (Add _b _a 'i32') :ruleset megg.rewrites.internal_rewrites.basic_math_laws_min)",
            "num_matches": 6
          },
          {
            "rule": "(rewrite (Mul _a _b 'i32') (Mul _b _a 'i32') :ruleset megg.rewrites.internal_rewrites.basic_math_laws_min)",
            "num_matches": 6
          },
          {
            "rule": "(rule ((= _e (Mul _x _y _t)))\n      ((set (megg_egraph_term_eclass_ty _e) _t))\n        :ruleset megg.rewrites.internal_rewrites.type_annotation )",
            "num_matches": 3
          },
          {
            "rule": "(rule ((= _e (Add _x _y _t)))\n      ((set (megg_egraph_term_eclass_ty _e) _t))\n        :ruleset megg.rewrites.internal_rewrites.type_annotation )",
            "num_matches": 3
          }
        ],
        "external_details": []
      },
      "details": {
        "description": "Applied algebraic laws (commutativity, associativity, constant folding)",
        "rules_applied": 4
      },
      "timestamp": 1767864797.0115702
    },
    {
      "phase_name": "2_external_rewrites",
      "phase_index": 2,
      "egraph_stats": {
        "horner3": {
          "total_nodes": 64,
          "total_eclasses": 19,
          "nodes_by_type": {
            "unimplemented": 43,
            "arg": 1,
            "lit": 4,
            "impl": 16
          },
          "root_eclasses": 1
        }
      },
      "cumulative_stats": {
        "internal_rewrites": 82,
        "external_rewrites": 0,
        "custom_rewrites": 0,
        "internal_details": [
          {
            "rule": "(rewrite (Add _a _b 'i32') (Add _b _a 'i32') :ruleset megg.rewrites.internal_rewrites.basic_math_laws_min)",
            "num_matches": 6
          },
          {
            "rule": "(rewrite (Mul _a _b 'i32') (Mul _b _a 'i32') :ruleset megg.rewrites.internal_rewrites.basic_math_laws_min)",
            "num_matches": 6
          },
          {
            "rule": "(rule ((= _e (Mul _x _y _t)))\n      ((set (megg_egraph_term_eclass_ty _e) _t))\n        :ruleset megg.rewrites.internal_rewrites.type_annotation )",
            "num_matches": 3
          },
          {
            "rule": "(rule ((= _e (Add _x _y _t)))\n      ((set (megg_egraph_term_eclass_ty _e) _t))\n        :ruleset megg.rewrites.internal_rewrites.type_annotation )",
            "num_matches": 3
          }
        ],
        "external_details": []
      },
      "details": {
        "description": "Applied MLIR loop passes (unroll, tile)",
        "passes_applied": 0
      },
      "timestamp": 1767864797.018912
    },
    {
      "phase_name": "3_custom_rewrites",
      "phase_index": 3,
      "egraph_stats": {
        "horner3": {
          "total_nodes": 67,
          "total_eclasses": 20,
          "nodes_by_type": {
            "unimplemented": 44,
            "arg": 1,
            "lit": 4,
            "impl": 18
          },
          "root_eclasses": 1
        }
      },
      "cumulative_stats": {
        "internal_rewrites": 82,
        "external_rewrites": 0,
        "custom_rewrites": 1,
        "internal_details": [
          {
            "rule": "(rewrite (Add _a _b 'i32') (Add _b _a 'i32') :ruleset megg.rewrites.internal_rewrites.basic_math_laws_min)",
            "num_matches": 6
          },
          {
            "rule": "(rewrite (Mul _a _b 'i32') (Mul _b _a 'i32') :ruleset megg.rewrites.internal_rewrites.basic_math_laws_min)",
            "num_matches": 6
          },
          {
            "rule": "(rule ((= _e (Mul _x _y _t)))\n      ((set (megg_egraph_term_eclass_ty _e) _t))\n        :ruleset megg.rewrites.internal_rewrites.type_annotation )",
            "num_matches": 3
          },
          {
            "rule": "(rule ((= _e (Add _x _y _t)))\n      ((set (megg_egraph_term_eclass_ty _e) _t))\n        :ruleset megg.rewrites.internal_rewrites.type_annotation )",
            "num_matches": 3
          }
        ],
        "external_details": []
      },
      "details": {
        "description": "Applied egglog pattern matching rules",
        "patterns_matched": 1
      },
      "timestamp": 1767864797.2213354
    },
    {
      "phase_name": "4_before_extraction",
      "phase_index": 4,
      "egraph_stats": {
        "horner3": {
          "total_nodes": 67,
          "total_eclasses": 20,
          "nodes_by_type": {
            "unimplemented": 44,
            "arg": 1,
            "lit": 4,
            "impl": 18
          },
          "root_eclasses": 1
        }
      },
      "cumulative_stats": {
        "internal_rewrites": 82,
        "external_rewrites": 0,
        "custom_rewrites": 1,
        "internal_details": [
          {
            "rule": "(rewrite (Add _a _b 'i32') (Add _b _a 'i32') :ruleset megg.rewrites.internal_rewrites.basic_math_laws_min)",
            "num_matches": 6
          },
          {
            "rule": "(rewrite (Mul _a _b 'i32') (Mul _b _a 'i32') :ruleset megg.rewrites.internal_rewrites.basic_math_laws_min)",
            "num_matches": 6
          },
          {
            "rule": "(rule ((= _e (Mul _x _y _t)))\n      ((set (megg_egraph_term_eclass_ty _e) _t))\n        :ruleset megg.rewrites.internal_rewrites.type_annotation )",
            "num_matches": 3
          },
          {
            "rule": "(rule ((= _e (Add _x _y _t)))\n      ((set (megg_egraph_term_eclass_ty _e) _t))\n        :ruleset megg.rewrites.internal_rewrites.type_annotation )",
            "num_matches": 3
          }
        ],
        "external_details": []
      },
      "details": {
        "description": "E-Graph saturated, ready for extraction"
      },
      "timestamp": 1767864797.234945
    }
  ]
}